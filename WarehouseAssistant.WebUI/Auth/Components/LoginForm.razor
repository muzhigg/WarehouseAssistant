@implements IDisposable
@namespace WarehouseAssistant.WebUI.Auth

<h3>Войти</h3>

<EditForm Model="_loginModel" OnValidSubmit="HandleLogin">
	<DataAnnotationsValidator/>
	<ValidationSummary/>

	<MudTextField @bind-Value="_loginModel.Username" Label="Username" Required="true" Variant="Variant.Outlined"
	              Margin="Margin.Dense"/>
	<MudTextField @bind-Value="_loginModel.Password" Label="Password" InputType="InputType.Password" Required="true"
	              Variant="Variant.Outlined" Margin="Margin.Dense"/>

	<MudButton ButtonType="ButtonType.Submit" Color="Color.Primary" Variant="Variant.Filled">Login</MudButton>
</EditForm>

<MudOverlay @bind-Visible="_isBusy" AutoClose="false" DarkBackground="true">
	<MudProgressCircular Size="Size.Large" Indeterminate="true"></MudProgressCircular>
</MudOverlay>

@if (_loginFailed)
{
	<MudText Color="Color.Error">Неправильный логин или пароль</MudText>
}